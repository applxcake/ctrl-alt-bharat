<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>AR.js Test</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <style>
        body { margin: 0; overflow: hidden; }
        #info {
            position: fixed;
            top: 10px;
            left: 10px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 10px;
            border-radius: 5px;
            z-index: 1000;
            max-width: 300px;
        }
    </style>
</head>
<body>
    <div id="info">
        <h3>AR.js Test</h3>
        <p>Point your camera at the Hiro marker</p>
        <p>Status: <span id="status">Loading...</span></p>
    </div>

    <a-scene embedded arjs='sourceType: webcam; debugUIEnabled: true;'>
        <!-- Create a marker -->
        <a-marker preset='hiro'>
            <a-box position='0 0.5 0' material='color: red;' scale='0.5 0.5 0.5'></a-box>
        </a-marker>
        
        <!-- Add a camera -->
        <a-entity camera></a-entity>
    </a-scene>

    <script>
        const statusEl = document.getElementById('status');
        const scene = document.querySelector('a-scene');
        
        if (scene) {
            scene.addEventListener('loaded', () => {
                console.log('Scene loaded');
                statusEl.textContent = 'Scene loaded, waiting for camera...';
            });
            
            scene.addEventListener('arReady', () => {
                console.log('AR.js is ready');
                statusEl.textContent = 'AR ready! Point at the Hiro marker';
            });
            
            scene.addEventListener('markerFound', (e) => {
                console.log('Marker found:', e.detail);
                statusEl.textContent = 'Marker found!';
            });
            
            scene.addEventListener('markerLost', () => {
                statusEl.textContent = 'Point at the Hiro marker';
            });
            
            // Check for errors
            window.addEventListener('error', (e) => {
                console.error('Error:', e);
                statusEl.textContent = 'Error: ' + e.message;
            });
        } else {
            statusEl.textContent = 'Error: Could not initialize AR scene';
            console.error('Could not find a-scene element');
        }
    </script>
</body>
</html>
