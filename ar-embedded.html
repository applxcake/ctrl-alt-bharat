<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Indian Heritage AR - Embedded Models</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/3.4.0/aframe/build/aframe-ar.js"></script>
    <style>
        .model-btn {
            position: fixed;
            bottom: 20px;
            padding: 10px 20px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 20px;
            margin: 0 5px;
            z-index: 100;
        }
        #model-selector {
            position: fixed;
            bottom: 0;
            width: 100%;
            text-align: center;
            padding: 10px 0;
            background: rgba(0,0,0,0.5);
            z-index: 99;
        }
        #info {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 10px;
            text-align: center;
            z-index: 100;
        }
        #loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: black;
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
    </style>
</head>
<body style='margin: 0; overflow: hidden;'>
    <div id="info">Point your camera at the Hiro marker to see the 3D model</div>
    <div id="loading">
        <h2>Loading AR Experience...</h2>
        <p>Please allow camera access when prompted</p>
    </div>

    <a-scene 
        vr-mode-ui="enabled: false"
        renderer="logarithmicDepthBuffer: true; antialias: true;"
        arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;"
        loading-screen="dotsColor: #0080e5; backgroundColor: #000000"
        cursor="rayOrigin: mouse" raycaster="objects: .clickable">
        
        <!-- Assets -->
        <a-assets>
            <a-asset-item id="taj-mahal-model" src="models/taj_mahal_model/scene.gltf"></a-asset-item>
        </a-assets>
        
        <!-- Use the Hiro marker -->
        <a-marker preset="hiro">
            <a-entity id="model-container">
                <!-- Taj Mahal Model -->
                <a-entity id="taj-mahal"
                    gltf-model="#taj-mahal-model"
                    scale="0.008 0.008 0.008"
                    position="0 0.2 0"
                    rotation="0 0 0">
                    <a-text value="Taj Mahal" position="0 3 0" color="#fff" align="center" width="3" scale="2 2 2" background="#00000099"></a-text>
                </a-entity>
            </a-entity>
        </a-marker>
        
        <a-entity camera></a-entity>
    </a-scene>

    <script>
        // Hide loading screen when scene is loaded
        document.querySelector('a-scene').addEventListener('loaded', function() {
            console.log('AR scene loaded');
            document.getElementById('loading').style.display = 'none';
            
            // Hide info message after 5 seconds
            setTimeout(() => {
                const info = document.getElementById('info');
                if (info) info.style.display = 'none';
            }, 5000);
        });
    </script>
</body>
</html>
